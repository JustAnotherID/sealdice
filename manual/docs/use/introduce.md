---
lang: zh-cn
title: 基础概念
---

# 基础概念

::: info 本节内容

这里讲的是 **使用** 海豹核心的相关事项，如果要了解如何 **搭建** 骰子，请点击 [部署-快速开始](../deploy/quick-start.md)。<br/>
以下内容针对从未接触过骰子的玩家准备。如果你已经有使用其他骰系的经验，可以 [跳过本节](./quick-start.md)。

:::

## 什么是骰子？

**骰子** 这里特指在即时聊天软件（如 QQ、KOOK、Discord）中为 TRPG（跑团）玩家提供方便的机器人。顾名思义，骰子提供各种基于各种跑团规则（如 COC、DND）的骰点服务，
同时还包括技能检定、日志记录（log）等功能。一些骰子服务，包括 SealDice，还提供一系列的自定义和娱乐功能。

## 获取和使用

最简单的方法就是自己[搭建](/docs/build/start)一个海豹骰自用（私骰），也可以从 [SealDice 海豹骰公骰登记表](https://docs.qq.com/sheet/DV0F4RWdyellaRkZD?tab=BB08J2&scode=) 中寻找一个公开的骰子（公骰）。公骰一般而言是免费的，但他们的创造者（骰主）一般都要求用户严格遵循使用协议，使用前请使用 `.help 协议` 指令了解你需要注意哪些事项。

::: danger 注意

QQ 并未提供公开的机器人接口，因此机器人只能使用第三方软件作为 **假用户** 接入。QQ 可能会检测到这些机器人，将它们视为诈骗而予以警告、封禁，甚至永久冻结。<br/>
因此，在 QQ 使用骰子有许多约定俗成的规则，例如应该使用指令使骰子退群，而**不能直接踢出**。为了尊重骰主的劳动成果，你应该遵守这些规则。

:::

在 QQ 上，你需要和骰子成为好友，然后拉入群组使用；在其他平台，一般使用邀请链接或者其他方式（详细操作请查看对应平台的相关使用文档）将机器人邀请进服务器、频道，或群组。之后，你可以通过触发 **指令回复** 和 **自定义回复** 来使用骰子机器人了。

### 指令回复

指令是和骰子互动的基本方式。一个指令由指令前缀、指令名、指令参数、指令标志组成。

#### 指令前缀

为了避免意外触发，指令前面都带有前缀，如 `.help 协议` 中的 `.`。按照过往习惯，指令前缀一般是便于输入的中英文句号，通常是 `.` 和 `。` ，但因为海豹核心的自定义功能，其他符号如 `/`，甚至一段话 `哦，我的骰子，` 都可以被用作前缀。

#### 指令名

以 `.help 协议` 为例，其中的 `help` 就是指令名，能区分同一扩展下的不同指令。指令可以有别名，例如 `查询` 就是 `find` 的别名。

::: info 扩展与同名指令

海豹通过[扩展](/docs/dev/ext)来组织功能和指令。如果你发现指令的回复与预期不符合，那有可能是没有开启正确的扩展。

有些指令是同名的，例如 COC 和 DND 都存在掷骰检定指令 `rc`，所以需要通过扩展管理指令 `ext` 来控制指令的行为（[核心指令 主持人#ext](./gm-cmd/#ext) ）。海豹默认将 COC 作为最优先的扩展，但骰主可以配置这一行为。

:::

#### 指令参数

以 `.help 协议` 为例，其中 `协议` 就是指令参数，参数提供指令所需要的信息。

虽然海豹在一定程度上可以兼容 `.help协议` 这种情况，但是**在指令名与参数、参数与参数之间添加空格**能保证海豹骰识别指令时准确无误，避免尴尬。

::: tip 获取指令帮助

多数情况下，第一个参数为 `help`，或者没有正确提供指令所需参数时会返回指令的帮助信息。例如，下面是 `find` 指令返回的帮助信息：

```text
查询指令，通常使用全文搜索(x86版)或快速查询(arm, 移动版)
.find/查询 <关键字>      // 查找文档。关键字可以多个，用空格分割
.find#<分组> <关键字>    // 查找指定分组下的文档。关键字可以多个，用空格分割
.find <数字ID>          // 显示该ID的词条
.find --rand           // 显示随机词条
.find <关键字> --num=10 // 需要更多结果
```

请注意，`<关键字>` 的边框 `<>` 只是起一个突出强调作用，并不需要真的输入。

正常的用例：`.find 火球术`
错误的用例：`.find 火球术`

:::

#### 指令标志

标志（flag）和参数相似，但不同于参数往往需要处于按照一定的顺序出现，标志可以无序排列。标志通过特定的 key 来辅助识别，一般形式为 `--key=value` 或者 `--key` 。

::: info 注意

一些系统（如 iOS）会将两个连字符（hyphen）`--` 自动转换为短画线（en dash）`–`，输入 flag 时请注意辨别。

:::

### 自定义回复

[自定义回复](/docs/build/reply) 形式自由，触发机制多样（关键字、正则表达式）等，并且能配合海豹核心独特的变量系统使用。

每个骰子使用自定义回复的方法可能完全不同，因此如何操作需要由骰主告知，这里不描述。